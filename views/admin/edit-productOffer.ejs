<%- include ('../partials/admin-header.ejs') %>


    <main class="mt-3" style="height: auto;"">
        <div class=" content-head">
        <div class="content-head-rect col-5 bg-dark-grn">
            <div>
                <h2 class="content-head-txt">EDIT PRODUCT OFFER</h2>
            </div>
            <div class="content-head-tri ms-auto"></div>
        </div>
        </div>
        <div class="content-body side-margin text-start mt-3" style="justify-content: center;">
            <form class="w-50" action="/admin/offer/update/<%= offerData._id %>?_method=PUT" method="post">
                <div class="mb-3 text-start">
                    <label for="offer-type" class="form-label">Offer Type</label>
                    <input required type="text" name="offerType" id="offer-type" class="form-control"
                        value="<%= offerData.offerType %>" readonly>
                </div>
                <div class="mb-3 text-start">
                    <label for="product-name" class="form-label">Product Name</label>
                    <input required type="text" name="productName" id="product-name" class="form-control"
                        value="<%= offerData.productName %>" readonly>
                </div>
                <div class="mb-3 text-start">
                    <label for="product-code" class="form-label">Product Code</label>
                    <input required type="text" name="productCode" id="product-code" class="form-control"
                        value="<%= offerData.productCode %>" readonly>
                </div>
                <div class="mb-3 text-start">
                    <label for="product-discount" class="form-label">Discount Percentage (%)</label>
                    <input required type="number" name="discount" id="product-discount" class="form-control"
                    value="<%= offerData.discountPrecentage %>">
                </div>
                <div class="mb-3 text-start">
                    <label for="product-max-limit" class="form-label">Maximum Limit</label>
                    <input required type="number" name="maxLimit" id="product-max-limit"
                        class="form-control" value="<%= offerData.maxDiscount %>">
                </div>
                <div class="mb-3 text-start">
                    <label for="product-expiry" class="form-label">Expiry Date</label>
                    <input required type="date" name="expiryDate" id="product-expiry" class="form-control"
                    value="<%= offerData.expiryDate.toISOString().split('T')[0] %>">
                </div>
                <button type="submit" class="btn bg-dark-grn updateProductOffer" style="color: white;"
                    id="updateProductOffer">Update Offer</button>
            </form>
        </div>
    </main>

    <script>
        if('<%= success %>' === 'true'){
            console.log('<%= success %>', '<%= message %>');
            
            toastr.info('<%= message %>');
            setTimeout(() => {
                window.location.href = '/admin/offers'
            }, 2000);
        } else if ('<%= success %>' === 'false') {
            console.log('<%= success %>', '<%= message %>');
            toastr.warning('<%= message %>')
        }
    </script>

    <%- include ('../partials/admin-footer.ejs') %>